import { Steps, Callout, Tabs, Tab } from "nextra-theme-docs";

# Setting up email

Setting up email requires you to complete two steps:

1. [Receiving emails](#receiving-emails)
2. [Sending emails](#sending-emails)

## What you will need

- Your support email address. See [what makes a good support email address?](#what-makes-a-good-support-email-address)
  below.
- Your Plain workspace's inbound email address (which ends with
  `@inbound.postmark.app`). We will provide this during the email setup process.
- Admin access to your domain's DNS settings.
- If you use Google for email, you will need admin access to the Google Workspace
  Admin console. Otherwise, admin access to your company email provider.

## What makes a good support email address?

The only requirement is that your support email address uses your company's domain. Email addresses using `@gmail.com`
, `@yahoo.com`, `@icloud.com`, `@hotmail.com` or any other public email provider **are not supported**.

We recommend you to choose an email address that is easy to remember and clear that it represents a company. Good
examples could be `help@`, `support@`, `contact@` or `hello@`. Generally, we'd advise against a personal one
like `sonia@` or `peter@`. But they might also be fine, depending on your needs.

If you follow this guide, bear in mind that:

- all emails sent to that email address will be received by Plain (not your email provider's inbox)
- you can only configure one support email address per Plain workspace

If you need to receive a copy of each email sent to the support email address (for instance, to keep a copy in your
company's email inbox), there are ways to achieve this. Please get in touch with us by email
at [help@plain.com](mailto:help@plain.com), and we will be happy to help.

## Receiving emails

In order to receive emails, you need to set up email forwarding from
your company's support email address (e.g. `help@yourcompany.com`) to your Plain workspace's inbound email address. Your workspace's email inbound address ends with `@inbound.postmark.app` and can be found in workspace settings under **Settings â†’ Email**.

<Callout type="info" emoji="ï¸ðŸ‘‰">
This assumes you use Google Workspace (formerly called Google Apps) to manage your domain's emails.

If your email provider is not Google, you can still set up email forwarding in different ways, such as with your domain registrar (e.g. [DNSimple](https://support.dnsimple.com/articles/email-forwarding/)) or your email provider (e.g. [Microsoft 365](https://learn.microsoft.com/en-us/microsoft-365/admin/email/configure-email-forwarding)).

</Callout>

<Steps>
### Go to your Gmail routing configuration
 
You can find this here: https://admin.google.com/u/0/ac/apps/gmail/defaultrouting
 
### Add a new rule

Under "Default routing" click on "CONFIGURE" or "ADD ANOTHER RULE"

![Add new rule](/images/email-setup/email-setup-0.png)

### Set the recipient

In the dropdown, select "Single recipient" and write your **support email address** under "Email address"

![Add your support email address](/images/email-setup/email-setup-1.png)

### Check the box "Change envelope recipient"

### Replace the recipient

Choose "Replace recipient" and paste the inbound email address (`@inbound.postmarkapp.com`)

![Replace recipient](/images/email-setup/email-setup-2.png)

### Set who the rule applies to

Scroll further down, and choose "Perform this action on non-recognised and recognised addresses"

![Apply to all addresses](/images/email-setup/email-setup-3.png)

### Click on "Save"

That's it ðŸ’…

</Steps>

Let's now set up email sending, so you can fully enable emails for your workspace.

## Sending emails

To be able to send emails from Plain using your support email
address, you will need to add a couple of DNS records to your domain.

While setting up your email, you will see DNS settings that need to be
configured for your domain:

![DNS settings](/images/email-setup/email-setup-4.png)

<Callout type="info" emoji="ï¸ðŸ‘‰">
**What are these records exactly?**

The first entry is the "DKIM record".
It is part of the available mechanisms that exist to authenticate
emails: verifying that you're the actual sender of the email.

The second one sets the return path for emails sent from Plain using your domain.
Return paths are used if an email bounces (fails to reach an inbox).

Both of them make sure that your emails reach your users' email inboxes
and do not end up in the spam folder.

</Callout>

Adding these to your DNS records varies slightly among different
providers. We have included a guide for different providers to help you
get going quickly:

<Tabs items={['DNSimple', 'Google Domains',  'Namecheap', 'GoDaddy']}>

    <Tab>
        1. Go to [https://dnsimple.com/dashboard](https://dnsimple.com/dashboard).
        2. Click on the domain you need to update. If your support address is
        `help@example.com` you must pick `example.com`.
        3. On the left menu, click on "DNS".
        4. Under "DNS records" click "Manage".
        5. Click "Add record" Choose TXT. Add the following:
            - **Name**: paste "Hostname"
            - **Type**: TXT
            - **Content**: paste "Value"
        6. Click "Add record" to save.
        7. Click "Add record" again. Choose "CNAME" Add the following:
            - **Name**: paste "Hostname"
            - **Type**: CNAME
            - **Content**: paste "Value"
        8. Click "Add record" to save.
    </Tab>

    <Tab>
        1. Go to [https://domains.google.com/registrar/](https://domains.google.com/registrar/).
        2. Choose the domain you need to update. If your support address is `help@example.com`
        you must pick `example.com`. Click on "Manage".
        3. On the left menu, click on "DNS".
        4. Click on "Manage custom records" Scroll down and click on "Create
        new record".
        5. Add the following:
            - **Host name**: paste "Hostname"
            - **Type**: TXT
            - **Data**: paste "Value"
        6. Click on "Create new record" again.
        7. Add the following:
            - **Host name**: paste "Hostname"
            - **Type**: CNAME
            - **Data**: paste "Value"
        8. Click "Save".
    </Tab>



    <Tab>
        1. Go to [https://ap.www.namecheap.com/domains/list/](https://ap.www.namecheap.com/domains/list/).
        2. Pick your domain and click on "Manage".
        3. Click on the "Advanced DNS" tab.
        4. Under "Host records" click on "Add new record" and set the following:
            - **Type**: TXT
            - **Host**: paste "Hostname"
            - **Value**: paste "Value"
        5. Click on "Add new record" again and add the following:
            - **Type**: CNAME
            - **Host**: paste "Hostname"
            - **Value**: paste "Value"
        6. Click on "Save all changes" to save.
    </Tab>

    <Tab>
        1. Go to [https://account.godaddy.com/products](https://account.godaddy.com/products)
        2. Pick your domain and click on "DNS".
        3. Click on "Add" and add the following:
            - **Name**: paste "Hostname"
            - **Type**: TXT
            - **Content**: paste "Value"
        4. Click on "Add entry" Confirm details and wait.
        5. Click on "Add" again and add the following:
            - **Name**: paste "Hostname"
            - **Type**: CNAME
            - **Content**: paste "Value"
        6. Click on "Add entry" to save and wait.
    </Tab>

</Tabs>

Remember that in some cases, changes to DNS records may take some time
to propagate. For modern providers this should be less than 10 minutes,
but in extreme scenarios it may take 24-48 hours.

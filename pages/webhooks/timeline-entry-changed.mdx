import { Callout } from 'nextra-theme-docs';

# Timeline Entry Changed Event

This is the most powerful and multi-purpose event in Plain.

This event is triggered whenever there is a change on a customer's timeline.

In particular:

- new emails (both inbound and outbound) and when they are updated (e.g. when they are marked as sent)
- new notes
- new chat messages (both inbound and outbound)
- new issues
- new custom timeline entries
- when a custom timeline entry is updated
- when the state of an issue changes
- when a customer's status changes
- when a customer's assignee changes

In order to know what kind of change has occurred, you can inspect the `entry` field of the `timelineEntry` or `previousTimelineEntry` [object](https://json-schema.app/view/%23/%23%2Fdefinitions%2FtimelineEntryChangedPayload/%23%2Fdefinitions%2FtimelineEntry?url=https%3A%2F%2Fcore-api.uk.plain.com%2Fwebhooks%2Fschema.json). This field contains a `type` field which you can use to determine the type of the timeline entry.

The [`changeType`](https://json-schema.app/view/%23/%23%2Fdefinitions%2FtimelineEntryChangedPayload?url=https%3A%2F%2Fcore-api.uk.plain.com%2Fwebhooks%2Fschema.json) field allows you to know what kind of change has occurred. It can be one of the following:

- `ADDED`: a timeline entry was added to the timeline
- `UPDATED`: an existing timeline entry has been updated
- `DELETED`: a timeline entry was deleted from the timeline

## Schema

[**View JSON Schema â†’**](https://json-schema.app/view/%23/%23%2Fdefinitions%2FtimelineEntryChangedPayload?url=https%3A%2F%2Fcore-api.uk.plain.com%2Fwebhooks%2Fschema.json)

Example:

```json
{
  "timestamp": "2023-02-23T09:21:01.100Z",
  "workspaceId": "w_01GSYS6QSK6G4N9V5QJWXSHYV1",
  "payload": {
    "eventType": "timeline.timeline_entry_changed",
    "previousTimelineEntry": null,
    "timelineEntry": {
      "id": "t_01GSYS6SPDDHWVTG5YHGX4YJDN",
      "customerId": "c_01GSYS6RJEVTSDZEE7QTVWRXDZ",
      "timestamp": "2023-02-23T09:20:57.549Z",
      "actor": {
        "actorType": "user",
        "userId": "u_01GSYS6Q234DAXCQ6SV1PG9F00"
      },
      "entry": {
        "entryType": "email",
        "emailId": "em_01GSYS6SNQ5EEN9KRF3T9XD646",
        "to": {
          "email": "roel_weimannba3t37@getresolve.dev",
          "name": "Roel Weimann",
          "emailActor": {
            "actorType": "customer",
            "customerId": "c_01GSYS6RJEVTSDZEE7QTVWRXDZ"
          }
        },
        "from": {
          "email": "elyse.mcdermott.7i7l7c0v@getresolve.dev",
          "name": "Elyse McDermott",
          "emailActor": {
            "actorType": "user",
            "userId": "u_01GSYS6Q234DAXCQ6SV1PG9F00"
          }
        },
        "additionalRecipients": [
          {
            "email": "gerhard26@getresolve.dev",
            "name": "Miguel",
            "emailActor": {
              "actorType": "customer",
              "customerId": "c_01GSYS6SNPYMXXEBC30D2GNHNM"
            }
          }
        ],
        "hiddenRecipients": [
          {
            "email": "belle3@getresolve.dev",
            "name": "Raul",
            "emailActor": {
              "actorType": "customer",
              "customerId": "c_01GSYS6SNPZ3HSC31CVM0JW8PJ"
            }
          }
        ],
        "subject": "Est inventore culpa corporis.",
        "textContent": "Iure eos esse numquam quod exercitationem quod a. Nobis pariatur alias molestiae ad vitae. Nesciunt sed consequuntur ex explicabo hic soluta numquam odio dolore. Dolorem aliquam ipsum quia illo.",
        "hasMoreTextContent": false,
        "markdownContent": "Iure eos esse numquam quod exercitationem quod a. Nobis pariatur alias molestiae ad vitae. Nesciunt sed consequuntur ex explicabo hic soluta numquam odio dolore. Dolorem aliquam ipsum quia illo. On Thu, 13 Jan 2022 at 17:40, Postmark Tester wrote: > Hello! > > On Thu, 13 Jan 2022 at 17:37, Andrew Blaney wrote: > >> This is an email from gmail without an attachment >> >",
        "hasMoreMarkdownContent": false,
        "authenticity": "PASS",
        "sentAt": null,
        "receivedAt": null,
        "attachments": [
          {
            "id": "att_01GSYS6SNNQN624PVKS76H2FEF",
            "fileName": "northeast_digitized.a",
            "fileSizeBytes": 95559,
            "fileMimeType": "application/vnd.iptc.g2.packageitem+xml",
            "fileExtension": "a",
            "createdAt": "2023-02-23T09:20:57.525Z",
            "createdBy": {
              "actorType": "user",
              "userId": "u_01GSYS6Q234DAXCQ6SV1PG9F00"
            },
            "updatedAt": "2023-02-23T09:20:57.525Z",
            "updatedBy": {
              "actorType": "user",
              "userId": "u_01GSYS6Q234DAXCQ6SV1PG9F00"
            },
            "type": "EMAIL",
            "emailContentId": "\"JtP!&3-iGw\".E7c\"YEJ"
          }
        ],
        "inReplyToEmailId": null,
        "isStartOfThread": true
      }
    },
    "changeType": "ADDED"
  },
  "id": "pEv_01GSYS6X5CFWQQGTAHF2MSTF2S",
  "webhookMetadata": {
    "webhookTargetId": "whTarget_01GST2GW9PXD7FMW924XF13M99",
    "webhookDeliveryAttemptId": "whAttempt_01GST2GXPW3RP4TVE8A73Q56AB",
    "webhookDeliveryAttemptNumber": 1,
    "webhookDeliveryAttemptTimestamp": "2023-02-23T09:21:01.100Z"
  },
  "type": "timeline.timeline_entry_changed"
}
```
